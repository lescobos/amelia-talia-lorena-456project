---
title: "Beyond the Sea: Insights on how Climate Change is affecting Ocean Health"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(lubridate)
library(sf)
library(ggplot2)
library(rnaturalearth)
library(rnaturalearthdata)
library(maps)
library(readr)
library(dplyr)
library(tibble)
library(raster)
library(gt)
library(rnoaa)
library(gganimate)
```

In this project, we looked at Ocean Health as an indicator of climate change. Climate change/global warming is the event in which air pollution, runoff, and other things cause our Earth's temperature to increase. This is why there have been colder winters and hotter summers or more extreme weather events. You may be asking yourself, how do we know climate change is happening? Well, take a look at the graph below. This graph shows the annual temperature anomalies (or differences from the mean of 0). As seen, the graph has a positive correlation between time and temperature. This shows that over time there is an overall increase in sea surface temperatures.

```{r, include = FALSE}
SST <- read_csv("Data/sea-surface-temp.csv")
```

```{r}
#| warning: false
#| fig-alt: This is a line graph showing the sea surface temperature anomalies over time from 1880 to 2020. Additionally, there is a horizontal line at zero to show the change drastic change in sea surface temperature over time. There is a positive trend which suggests an overall increase in sea surface temperature. At around the year 2000 or right before, the temperature anomalies are solely above the horizontal line at zero. 
SST %>% 
  group_by() %>% 
  ggplot(aes(x = Year, y = Annual_anomaly)) + 
  geom_line() + 
  geom_hline(yintercept = 0, color = "Orange", linewidth = 1) +
  theme_classic() + 
  theme(plot.title = element_text(face = "bold", size = 12, ),
        plot.title.position = "plot",
        axis.title.x = element_text(vjust = 0.5)) +
  labs(title = "Annual Average Sea Surface Temperature Anomalies",
       subtitle = "from 1880 to 2020", 
       x = "Year",
       y = "Annual Anomaly",
       caption = "Graphic by T.Chait | Source: US Environmental Protection Agency")
```

In order to dive deeper into the effects of climate change on ocean health, we considered 3 different locations all around the world that we are calling "case studies" all of which help answer our research question: How is ocean health changing due to climate related increases in temperature?

The first case study looks into coral bleaching specifically in Australia, where the Great Barrier Reef is, and tackles the effects of La Niña vs El Niño. The second case study looks into chemicals off the coast of Santa Barbara, California, USA to take a different approach on how ocean health is chaning over time. The third case study looks into fish populations in the Mediterranean Sea as an indicator of ocean health. The tabs on this website correspond to each of the case studies, so please click on whichever tab you are most interested in to learn more about that topic!

```{r}
#| warning: false

tiff <- raster("Images/MYD28M_2022-12-01_rgb_3600x1800.FLOAT.TIFF")

rastr <- rasterToPoints(tiff, spatial = TRUE)

dfrastr <- data.frame(rastr)

dfrastr %>%
  mutate(MYD28M_2022.12.01_rgb_3600x1800.FLOAT = na_if(MYD28M_2022.12.01_rgb_3600x1800.FLOAT, 99999)) %>%
  ggplot() + 
  geom_raster(aes(x = x, y = y, fill = MYD28M_2022.12.01_rgb_3600x1800.FLOAT)) + 
  ggtitle("") + 
  coord_equal() + 
  theme_bw() + 
  scale_fill_viridis_c(na.value = "black") + 
  theme(panel.grid = element_blank(), 
        panel.background = element_rect(fill = "transparent"), 
        plot.background = element_rect(fill = "transparent"),
        panel.border = element_blank(),
        plot.margin = unit(c(0, 0, 0, 0), "null"),
        panel.margin = unit(c(0, 0, 0, 0), "null"),
        axis.ticks = element_blank(),
        axis.text = element_blank(),
        axis.title = element_blank(),
        axis.line = element_blank(),
        axis.ticks.length = unit(0, "null"),
        axis.ticks.margin = unit(0, "null"),
        legend.margin = margin(unit(0, "null")), 
        plot.title = element_text(face = "bold")) + 
  annotate("point", x = 134, y = -25, color = "yellow", size = 2) +
  annotate("label", x = 137, y = -37, label = "Case Study 1") +
  annotate("point", x = -120, y = 34, color = "yellow", size = 2) +
  annotate("label", x = -120, y = 22, label = "Case Study 2") +
  annotate("point", x = 19, y = 35, color = "yellow", size = 2) +
  annotate("label", x = 19, y = 47, label = "Case Study 3") + 
  labs(fill = "Temperature\n(ºC)", title = "Water Temperature from MODIS Satellite Data, December 2022", caption = "Graphic by A. Renner & T. Chait | Data Source: NASA Earth Observations")
```

### Resources: 

[US Environmental Protection Agency: Sea Surface Temperature Data](https://www.epa.gov/climate-indicators/climate-change-indicators-sea-surface-temperature)