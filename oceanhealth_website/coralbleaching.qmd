---
title: "Coral Bleaching"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
library(lubridate)
library(sf)
library(ggplot2)
library(rnaturalearth)
library(rnaturalearthdata)
library(maps)
library(readr)
library(dplyr)
library(rnoaa)
```

### What is Coral Bleaching?  
Coral Bleaching is the act of corals losing their vibrant colors and turning white through being stressed. The leading cause of coral bleaching is climate change. This includes an increase in ocean temperature, overexposure to sunlight, or harmful nutrients from runoff or pollution. Any of these conditions could cause the coral to expel the symbiotic algae living in their tissues which in turn causes the corals to turn completely white - hence the bleaching term.

![Image Caption: A coral reef that is healthy (on the left) versus a coral reef that is bleached (on the right) - source: Greenspace](coralbleachingimage.png)

### Why is it important? 
It is important to remember that while corals are not necessarily "dead" from a coral bleaching event, it is still crucial to make sure they survive the bleaching events. Corals provide resources to many species that call the ocean their homes. By understanding the patterns in coral bleaching and bleaching severity, we can evaluate ocean health and understand what we can do to prevent more coral reefs from being bleached and ultimately prevent more damage to our oceans. 

### Data, Visualizations, and Results 

Data was obtained from Harvard Dataverse [(link to data)](https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/KUVQKY/PAMLRZ&version=1.4) which is a free data repository that is open to all researchers from any discipline (both inside and outside of Harvard University). It allows researchers to share, archive, cite, and access different data-sets. It was published to the resporitory in 2016 but has data from the mid 1800s. 

Since this data-set is on corals, the ethical issues have to do with gathering information from marine life and and how much the data collection could cause harms. While the harms are minor, the benefits of this data being collected goes well beyond the health of the corals. This is because coral bleaching is an indicator of climate change so collecting data on the health of corals could have lasting impacts on reducing global warming. 


```{r include=FALSE}
coralbleaching <- read_csv("CoralBleaching.csv")

names(coralbleaching)

coralclean <- coralbleaching %>% 
  group_by(REGION, YEAR) %>%
  summarise(REGION, YEAR, mean(SEVERITY_CODE)) %>% 
  unique()

world <- ne_countries(scale = "medium", returnclass = "sf")
class(world)
```

The following visualization shows the spread of the coral bleaching events. This map shows the world and the various coral bleaching events on top world outline. This map shows us where most of the events occur but not necessarily when or how. As seen in the graph, most of the coral bleaching events occur around the equator. This makes sense because the equator is where there is warmer water and a rise in ocean temperatures is one of the many causes of coral bleaching. 

```{r fig.alt= "This is a map that shows the world and then the various coral bleaching events on top of the world. This suggests where most of the events occur but not necessarily when or how. As shown in the graph, most of the coral bleaching events occur around the equator in the warmer waters. This makes sense given the abckground of why coral bleaching occurs and its indicators."}
ggplot(data = world) +
  geom_sf() +
  geom_point(data = coralbleaching, aes(x = LON, y = LAT), size = 2, 
        shape = 23, fill = "darkred") +
  coord_sf(xlim = c(-160, 160), ylim = c(-90, 90), expand = FALSE) +
  theme(plot.title = element_text(family = "mono", face = "bold", size = 12, ),
        plot.title.position = "plot",
        plot.caption = element_text(family = "mono"),
        plot.subtitle = element_text(family = "mono"),
        axis.title.y = element_text(family = "mono"),
        axis.title.x = element_text(family = "mono", vjust = 0.5)) +
  labs(title = "Coral Bleaching Events Around the World",
       y = "Latitude",
       x = "Longitude",
       caption = "Plot by Talia Chait | Data from Harvard Dataverse")
```

This is a scatter plot graph that shows the average severity code of the coral bleaching over time for the regions of Africa, Americas, Asia, Australia, Middle East, and Pacific. The original severity code variable is on a scale of -1 to 3 with -1 meaning unknown, 0 meaning no bleaching, 1 meaning low severity, 2 meaning medium severity, and 3 meaning high severity. Overall, the graph suggests that over time there has a been a change in coral bleaching severity with minimal differences between the regions. In order to explore more of the differences, we have to look into the total number of coral bleaching events per region by the severity of the bleaching events. 

```{r fig.alt="This is a line graph that shows the average severity code of the coral bleaching over time for the regions of Africa, Americas, Asia, Australia, Middle East, and Pacific. The original severity code variable is on a scale of -1 to 3 with -1 meaning unknown, 0 meaning no bleaching, 1 meaning low severity, 2 meaning medium severity, and 3 meaning high severity. Overall, the graph suggests that over time there has a been a change in coral bleaching severity with minimal differences between the regions."}
coralclean %>%
  filter(REGION != "NA") %>% 
  rename("avgSevCode"="mean(SEVERITY_CODE)") %>%
  ggplot(aes(x = YEAR, y = avgSevCode, color = REGION)) +
  geom_point() +
  facet_wrap(vars(REGION)) + 
  theme_classic() +
  labs(x = "Year",
       y = "Average Severity Code",
       title = "Average Coral Bleaching Severity Code from 1963 to 2012",
       subtitle = "separated by the regions in the world",
       caption = "Plot by Talia Chait | Data from Harvard Dataverse",
       color = NULL) +
   theme(legend.position = "none",
        plot.title = element_text(family = "mono", face = "bold", size = 12, ),
        plot.title.position = "plot",
        plot.caption = element_text(family = "mono"),
        plot.subtitle = element_text(family = "mono"),
        axis.title.y = element_text(family = "mono"),
        axis.title.x = element_text(family = "mono", vjust = 0.5))
```

So, now that we know more about where coral bleaching events occur and why they occur, the next thing we need to understand is to what severity do they occur and in which region(s) is the severity the worst/best? In order to answer this question, a simple bar graph was created with the 6 regions on the Y axis and the number of coral bleaching events on the X axis. This graph shows that the Americas and Australia exceed the other 4 regions with total number of events of 2,000 plus events. Additionally, the break down of bleaching severity shows that the Americas have a larger amount of low bleaching events than Australia does while Australia has a larger number of high bleaching events than the Americas do. 

```{r fig.alt= "This is a bar plot that shows the 6 regions and the total number of bleaching events per region broken up by bleaching severity. The results show that the Americas and Australia exceed the other 4 regions with total number of events of 2,000 plus events. Additionally, the break down of bleaching severity shows that the Americas have a larger amount of low bleaching events than Australia does while Australia has a larger number of high bleaching events than the Americas do."}
coral_countsev <- coralbleaching %>% 
  group_by(REGION, BLEACHING_SEVERITY) %>%
  count(REGION)

coral_countsev %>% 
  filter(REGION %in% c("Africa", "Americas", "Asia", "Australia", "Middle East", "Pacific")) %>% 
  ggplot(mapping = aes(x= reorder(REGION, n), y = n, fill = BLEACHING_SEVERITY)) + 
  geom_col() +
  scale_fill_viridis_d() +
  coord_flip() + 
  theme_classic() +
  labs(title = "Total Number of Coral Bleaching Events per Region", 
       x = "", 
       y = "",
       legend = "",
       caption = "Plot by Talia Chait | Data from Harvard Dataverse") + 
   theme(plot.title = element_text(family = "mono", face = "bold", size = 12, ),
        plot.title.position = "plot",
        plot.caption = element_text(family = "mono"),
        plot.subtitle = element_text(family = "mono"),
        axis.text = element_text(family = "mono"), 
        legend.text = element_text(family = "mono"), 
        legend.title = element_text(family = "mono"))
```


### Resources
[Data: Harvard Dataverse](https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/KUVQKY/PAMLRZ&version=1.4)

[https://oceanservice.noaa.gov/facts/coral_bleach.html](https://oceanservice.noaa.gov/facts/coral_bleach.htm)

[https://www.greenpeace.org/usa/whats-killing-coral-reefs-and-how-can-we-stop-it/](https://www.greenpeace.org/usa/whats-killing-coral-reefs-and-how-can-we-stop-it/)

[https://education.nationalgeographic.org/resource/el-nino/](https://education.nationalgeographic.org/resource/el-nino/)